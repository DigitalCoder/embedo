!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof module&&module.exports?module.exports=e():t.Embedder=window.Embedder=e()}(this,function(){"use strict";function t(t){return this.options=t||{},this.init(this.options),this}function e(t){var e=document.createElement("script");return e.type="text/javascript",e.src=encodeURI(t),e.setAttribute("async",""),e.setAttribute("charset","utf-8"),e}function i(t){try{return t instanceof HTMLElement}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}}function o(e){var i=/(http|https):\/\/(\w+:{0,1}\w*)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/;if(i.test(e))return e.match(t.defaults.FACEBOOK.REGEX)?"facebook":e.match(t.defaults.TWITTER.REGEX)?"twitter":e.match(t.defaults.INSTAGRAM.REGEX)?"instagram":e.match(t.defaults.YOUTUBE.REGEX)?"youtube":void 0}function n(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e.join("&")}function r(t,e){function i(){if(o++,!(o>n))if("facebook"===t){if(window.FB)return e();setTimeout(i,100)}else if("twitter"===t){if(window.twttr)return e();setTimeout(i,100)}else if("instagram"===t){if(window.instgrm)return e();setTimeout(i,100)}}var o=0,n=10;i()}function a(t,e,i){"function"==typeof e&&(i=e,e={}),e=e||{};var o="jsonp_callback_"+Math.round(1e5*Math.random());window[o]=function(t){delete window[o],document.body.removeChild(n),i(null,t)};var n=document.createElement("script");n.type="application/javascript",n.async=!0,n.src=t+(t.indexOf("?")>=0?"&":"?")+"callback="+o,document.body.appendChild(n)}function d(t,e){var i=document.createElement("div");return i.setAttribute("data-embed",t),i.innerHTML=e,i}function s(t,e){e=e||{};var i,o,n,r=e.frame?t.querySelectorAll(e.frame)[0]:t.querySelectorAll("[data-embed]")[0];if(r){var a=parseInt(e.width||t.style.width||t.offsetWidth),d=parseInt(e.height||t.style.height||t.offsetHeight),s=parseInt(r.style.maxWidth||r.style.width||r.offsetWidth),f=parseInt(r.style.maxHeight||r.style.height||r.offsetHeight);if(e.frame||(s=r.firstChild.offsetWidth,f=r.firstChild.offsetHeight),i=(a-s)/2,o=(d-f)/2,n="translate("+i+"px,"+o+"px)",e.scale&&r.offsetHeight>d){var c=d/r.offsetHeight;n+=" scale("+c+")"}r.style.webkitTransform=n,r.style.MozTransform=n,r.style.msTransform=n,r.style.OTransform=n,r.style.transform=n}}return t.defaults={FACEBOOK:{SDK:"https://connect.facebook.net/en_US/sdk.js",oEmbed:"https://www.facebook.com/plugins/post/oembed.json",REGEX:/^http[s]*:\/\/[www.]*facebook\.com.*/i},TWITTER:{SDK:"https://platform.twitter.com/widgets.js",oEmbed:"https://publish.twitter.com/oembed",REGEX:/^http[s]*:\/\/[www.]*twitter\.com.*/i},INSTAGRAM:{SDK:"https://platform.instagram.com/en_US/embeds.js",oEmbed:"https://api.instagram.com/oembed",REGEX:/^http[s]*:\/\/[www.]*instagram\.com.*/i},YOUTUBE:{SDK:null,oEmbed:"https://www.youtube.com/embed/",REGEX:/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/}},t.prototype={facebook:function(e,i,o){var f=t.defaults.FACEBOOK.oEmbed,c={url:encodeURI(i),omitscript:!0};o.width&&parseInt(o.width)>0&&(c.maxwidth=o.width),f+="?"+n(c),a(f,function(t,i){t||(e.appendChild(d("facebook",i.html)),r("facebook",function(){window.FB.XFBML.parse(e)}),e.addEventListener("DOMSubtreeModified",function(){s(e,{scale:!0,frame:"fb_iframe_widget"})}))})},twitter:function(e,i,o){var f=t.defaults.TWITTER.oEmbed,c={url:encodeURI(i),omit_script:1};o.width&&parseInt(o.width)>0&&(c.maxwidth=o.width),f+="?"+n(c),a(f,function(t,i){t||(e.appendChild(d("twitter",i.html)),r("twitter",function(){window.twttr.widgets.load(e)}),e.addEventListener("DOMSubtreeModified",function(){s(e,{scale:!0})}),s(e,{scale:!0}))})},instagram:function(e,i,o){var f=t.defaults.INSTAGRAM.oEmbed,c={url:encodeURI(i),omitscript:!0,hidecaption:!0};o.width&&parseInt(o.width)>0&&(c.maxwidth=o.width),f+="?"+n(c),a(f,function(t,i){t||(e.appendChild(d("instagram",i.html)),r("instagram",function(){window.instgrm.Embeds.process()}),e.addEventListener("DOMSubtreeModified",function(){s(e,{scale:!0,frame:"iframe"})}))})},youtube:function(e,i,o){function r(t){var e=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,i=t.match(e);return!(!i||11!=i[7].length)&&i[7]}var a=t.defaults.YOUTUBE.oEmbed,s="",f={url:encodeURI(i),modestbranding:1,autohide:1,showinfo:0,controls:0},c=o.width&&parseInt(o.width||0)>10?o.width:600,u=o.height&&parseInt(o.height||0)>10?o.height:400;r(i)&&(a+=s+"?"+n(f),e.appendChild(d("youtube",'<iframe src="'+a+'" width="'+c+'" height="'+u+'"frameborder="0" allowtransparency="true"></iframe>')))}},t.prototype.init=function(i){document.body.appendChild(e(t.defaults.FACEBOOK.SDK)),document.body.appendChild(e(t.defaults.TWITTER.SDK)),document.body.appendChild(e(t.defaults.INSTAGRAM.SDK)),r("facebook",function(){window.FB.init({appId:"771604066204777",xfbml:!0,cookie:!0,version:"v2.7"})})},t.prototype.load=function(t,e,n){if(n=n||{},t&&i(t)){var r=o(e);r&&this[r](t,e,n)}},t});